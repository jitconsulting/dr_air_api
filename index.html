<!DOCTYPE html>
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<title>DR対応AiR制御APIドキュメント | air_conditioning_API</title>
<meta name="generator" content="Jekyll v3.8.5">
<meta property="og:title" content="DR対応AiR制御APIドキュメント">
<meta property="og:locale" content="en_US">
<link rel="canonical" href="https://jitconsulting.github.io/dr_air_api/">
<meta property="og:url" content="https://jitconsulting.github.io/dr_air_api/">
<meta property="og:site_name" content="dr_air_api">
<script type="application/ld+json">
{"@type":"WebSite","url":"https://jitconsulting.github.io/dr_air_api/","name":"dr_air_api","headline":"空調制御APIドキュメント","@context":"https://schema.org"}</script>

    <style class="anchorjs"></style><link rel="stylesheet" href="./index_files/style.css">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="https://jitconsulting.github.io/dr_air_api/">igs-dr_air_controlling_API</a></h1>
      

      <h1 id="DR対応空調制御apiドキュメント">DR対応空調制御APIドキュメント</h1>

<h2 id="概要">概要<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#%E6%A6%82%E8%A6%81" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>こちらはAiR制御APIのドキュメントになります。<br></p>

<ol>
  <li>仕様書（本ドキュメント）</li>
</ol>

<hr>

<h1 id="api仕様書">API仕様書</h1>

<h2 id="1DR信号受信apipost">1.DR信号受信API(POST)<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#2%E9%9B%BB%E5%8A%9B%E4%BD%BF%E7%94%A8%E9%87%8F%E4%BA%88%E6%B8%AC%E5%8F%97%E4%BF%A1apipost" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<h3 id="url-1">URL<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#url-1" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>

<p>POST /v1/receive_dr_signal</p>

<h3 id="request-1">REQUEST<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#request-1" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"occurrence_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-30 00:30:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"server_company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stores"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST0001"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"2018-11-30 00:00:00"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"dr_status"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"2019-03-08 00:30:00"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"dr_status"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
       </span><span class="s2">"00:00 - 23:30 までの48行分のDR信号の有無が入ります"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST0002"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"2018-11-30 00:00:00"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"dr_status"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"2019-03-08 00:30:00"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"dr_status"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
       </span><span class="s2">"00:00 - 23:30 までの48行分のDR信号の有無が入ります"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST0003"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"2018-11-30 00:00:00"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"dr_status"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"2019-03-08 00:30:00"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"dr_status"</span><span class="p">:</span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
       </span><span class="s2">"00:00 - 23:30 までの48行分のDR信号の有無が入ります"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="response-1">RESPONSE<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#response-1" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>

<h4 id="ok-1">OK<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#ok-1" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
 </span><span class="nl">"stores"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
    </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST0001"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
    </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST0002"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">521</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"内部処理エラーのため、DR信号が受信できませんでした。"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
    </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ST0003"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">521</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"リクエストタイムアウトのため、DR信号が受信できませんでした。"</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h4 id="dr_statusの値">dr_statusの値<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#dr_status%E3%81%AE%E5%80%A4" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>

<table>
  <thead>
    <tr>
      <th>値</th>
      <th>意味</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>0</td>
      <td>DR信号なし</td>
    </tr>
    <tr>
      <td>1</td>
      <td>DR信号あり</td>
    </tr>
  </tbody>
</table>

<h2 id="2想定制御削減量の取得apipost">2.想定制御削減量の取得API(POST)<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#5%E6%83%B3%E5%AE%9A%E5%88%B6%E5%BE%A1%E5%89%8A%E6%B8%9B%E9%87%8F%E3%81%AE%E5%8F%96%E5%BE%97apipost" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<h3 id="url-3">URL<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#url-3" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>

<p>POST /v1/reduction_quantity</p>

<h3 id="request-2">REQUEST<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#request-2" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"occurrence_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-30 00:30:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"server_company_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"target_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-30"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"stores"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="response-3">RESPONSE<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#response-3" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>

<h4 id="ok-3">OK<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#ok-3" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
 </span><span class="nl">"stores"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">550</span><span class="p">,</span><span class="w">
     </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"リクエストタイムアウトのため、想定制御削減量が取得できませんでした。"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
     </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"areas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
         </span><span class="nl">"area_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="nl">"2019-03-08 00:00:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="nl">"2019-03-08 00:30:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="s2">"48コマ分の削減量が返却されます"</span><span class="w">
          </span><span class="p">}</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
     </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"areas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
         </span><span class="nl">"area_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="nl">"2019-03-08 00:00:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="nl">"2019-03-08 00:30:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="s2">"48コマ分の削減量が返却されます"</span><span class="w">
         </span><span class="p">}</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="p">{</span><span class="w">
         </span><span class="nl">"area_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="nl">"2019-03-08 00:00:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="nl">"2019-03-08 00:30:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="s2">"48コマ分の削減量が返却されます"</span><span class="w">
          </span><span class="p">}</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">551</span><span class="p">,</span><span class="w">
     </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"内部処理エラーのため、想定制御削減量が取得できませんでした。"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">550</span><span class="p">,</span><span class="w">
     </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"リクエストタイムアウトのため、想定制御削減量が取得できませんでした。"</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
     </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"areas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
         </span><span class="nl">"area_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="nl">"2019-03-08 00:00:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="nl">"2019-03-08 00:30:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="s2">"48コマ分の削減量が返却されます"</span><span class="w">
          </span><span class="p">}</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
   </span><span class="p">},</span><span class="w">
   </span><span class="p">{</span><span class="w">
     </span><span class="nl">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"status_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
     </span><span class="nl">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7"</span><span class="p">,</span><span class="w">
     </span><span class="nl">"areas"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">{</span><span class="w">
         </span><span class="nl">"area_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="nl">"2019-03-08 00:00:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="nl">"2019-03-08 00:30:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="s2">"48コマ分の削減量が返却されます"</span><span class="w">
         </span><span class="p">}</span><span class="w">
       </span><span class="p">},</span><span class="w">
       </span><span class="p">{</span><span class="w">
         </span><span class="nl">"area_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
         </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
           </span><span class="nl">"2019-03-08 00:00:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="nl">"2019-03-08 00:30:00"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
           </span><span class="s2">"48コマ分の削減量が返却されます"</span><span class="w">
          </span><span class="p">}</span><span class="w">
       </span><span class="p">}</span><span class="w">
     </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="target_date-日付パラメータについて"><code class="language-plaintext highlighter-rouge">target_date</code> （日付パラメータ）について<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#target_date-%E6%97%A5%E4%BB%98%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">target_date</code> は任意の日付を指定可能です</li>
  <li><code class="language-plaintext highlighter-rouge">target_date</code> が指定されなかった場合、API実行日時から直近の24時間分の削減量を返却します
    <ul>
      <li>例：20:15分にAPIを呼び出した場合</li>
      <li>前日の <code class="language-plaintext highlighter-rouge">19:30</code> から 当日の <code class="language-plaintext highlighter-rouge">19:00</code>までの48コマ分の削減量を返却します</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">target_date</code> が指定された場合は、その日の0〜24時のデータを返却する
    <ul>
      <li>例：<code class="language-plaintext highlighter-rouge">2018-11-30</code> を指定した場合</li>
      <li><code class="language-plaintext highlighter-rouge">2018-11-30</code> の <code class="language-plaintext highlighter-rouge">0:00</code> から <code class="language-plaintext highlighter-rouge">23:30</code> の削減量を返却する</li>
    </ul>
  </li>
  <li>返却するデータに未来の日時を含む場合、削減量はnullで返します</li>
  <li>削減量が 0 の場合のみ 0 で返します</li>
</ul>

<h2 id="error各api共通">ERROR（各API共通）<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#error%E5%90%84api%E5%85%B1%E9%80%9A" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error_code"</span><span class="p">:</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SignatureKeyが不正のため、受け取れません"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<ul>
  <li><code class="language-plaintext highlighter-rouge">error_code</code> はサーバー実装企業様に規程して頂く予定です。</li>
  <li>クライアント側に返答する <code class="language-plaintext highlighter-rouge">error_code</code> と <code class="language-plaintext highlighter-rouge">message</code> の一覧を共有ください。</li>
  <li>クライアント側では返答されたエラー内容はログに記録します</li>
</ul>

<h2 id="店舗id端末id系統idを規程する主体について">店舗id・端末id・系統idを規程する主体について<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#%E5%BA%97%E8%88%97id%E7%AB%AF%E6%9C%ABid%E7%B3%BB%E7%B5%B1id%E3%82%92%E8%A6%8F%E7%A8%8B%E3%81%99%E3%82%8B%E4%B8%BB%E4%BD%93%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>各種idを決定する企業についてまとめています。<br>

<table>
  <thead>
    <tr>
      <th>id</th>
      <th>json attribute</th>
      <th>決定会社</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>店舗id</td>
      <td>store_id</td>
      <td>igs社</td>
    </tr>
    <tr>
      <td>端末id</td>
      <td>device_id</td>
      <td>igs社・JITC社</td>
    </tr>
    <tr>
      <td>系統id</td>
      <td>area_id</td>
      <td>igs社・JITC社</td>
    </tr>
  </tbody>
</table>

<h2 id="空調メーカid-server_company_id-について">空調メーカID (server_company_id) について<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#%E7%A9%BA%E8%AA%BF%E3%83%A1%E3%83%BC%E3%82%ABid-server_company_id-%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>空調制御サービスを提供する企業を特定するIDになります。<br>
値は以下で決め打ちです。将来的な拡張のため指定しています。</p>

<table>
  <thead>
    <tr>
      <th>値</th>
      <th>企業</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1</td>
      <td>JIT</td>
    </tr>
  </tbody>
</table>

<h2 id="セキュリティについて">セキュリティについて<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h2>
<p>すべてのAPIはSSL通信+Basic認証で行います。</p>

<h3 id="2想定制御削減量の取得apiをpostメソッドに変更">2.想定制御削減量の取得APIをPOSTメソッドに変更<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#5%E6%83%B3%E5%AE%9A%E5%88%B6%E5%BE%A1%E5%89%8A%E6%B8%9B%E9%87%8F%E3%81%AE%E5%8F%96%E5%BE%97api%E3%82%92post%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%81%AB%E5%A4%89%E6%9B%B4" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<ul>
  <li>複数店舗を取得できるようにする都合上、GETからPOSTに変更</li>
</ul>

<h3 id="signature">signature<a class="anchorjs-link " href="https://jitconsulting.github.io/dr_air_api/#signature" aria-label="Anchor" data-anchorjs-icon="" style="font: 1em / 1 anchorjs-icons; padding-left: 0.375em;"></a></h3>
<p>ssl/basic認証を採用する為、sigantureを削除しました。</p>


      
    </div>
    <script src="./index_files/anchor.min.js.下载" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  

</body></html>
